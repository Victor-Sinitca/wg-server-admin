var me=Object.defineProperty,ve=Object.defineProperties;var ge=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var fe=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable;var I=(a,i,t)=>i in a?me(a,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[i]=t,r=(a,i)=>{for(var t in i||(i={}))fe.call(i,t)&&I(a,t,i[t]);if(E)for(var t of E(i))ye.call(i,t)&&I(a,t,i[t]);return a},c=(a,i)=>ve(a,ge(i));import{j as D,N,a as H,r as y,R as Ce,b,c as _e,d as be,B as Pe}from"./vendor.9c71bc77.js";const Ne=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const p of l.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}};Ne();const Te="_displayNav_1apxd_1",xe="_displayFriend_1apxd_13",Se="_displayHeaderFriend_1apxd_35",De="_nav_1apxd_43",Fe="_item_1apxd_65",$e="_active_1apxd_77",we="_friendsList_1apxd_83",Be="_displayUser_1apxd_97";var v={displayNav:Te,displayFriend:xe,displayHeaderFriend:Se,nav:De,item:Fe,active:$e,friendsList:we,displayUser:Be};const e=D.exports.jsx,u=D.exports.jsxs,ke=D.exports.Fragment,Ae=()=>e("div",{className:"navPanel",children:u("nav",{className:v.nav,children:[e("div",{className:`${v.item} ${v.active}`,children:e(N,{className:({isActive:a})=>`${v.item} ${a?v.active:""}`,to:"/gold",children:"Gold"})}),e("div",{className:`${v.item} ${v.active}`,children:e(N,{className:({isActive:a})=>`${v.item} ${a?v.active:""}`,to:"/tech",children:"Tech"})}),e("div",{className:`${v.item} ${v.active}`,children:e(N,{className:({isActive:a})=>`${v.item} ${a?v.active:""}`,to:"/premium",children:"Premium"})}),e("div",{className:`${v.item} ${v.active}`,children:e(N,{className:({isActive:a})=>`${v.item} ${a?v.active:""}`,to:"/provisions",children:"Provisions"})})]})}),Ee=()=>e("div",{className:"header"}),Ie="_tableStyle_b8d03_3",He="_nameProduct_b8d03_15",Le="_rowContainer_b8d03_27",Ge="_productContainer_b8d03_37",Oe="_changeProductContainer_b8d03_45",Me="_firstContainer_b8d03_61",Re="_descriptionContainer_b8d03_71",je="_filterTechContainer_b8d03_77",qe="_descriptionStyl_b8d03_87",Ue="_imgContainer_b8d03_93",ze="_isSelect_b8d03_101",We="_tableBody_b8d03_107",Je="_tableHead_b8d03_113";var h={tableStyle:Ie,nameProduct:He,rowContainer:Le,productContainer:Ge,changeProductContainer:Oe,firstContainer:Me,descriptionContainer:Re,filterTechContainer:je,descriptionStyl:qe,imgContainer:Ue,isSelect:ze,tableBody:We,tableHead:Je};const Ke=()=>u("tr",{className:h.container,children:[e("th",{children:"\u0422\u0438\u043F"}),e("th",{children:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"}),e("th",{children:"\u0424\u0438\u043B\u044C\u0442\u0440"}),e("th",{children:"\u041F\u0440\u0438\u043E\u0440\u0438\u0442\u0435\u0442"}),e("th",{children:"\u0420\u0430\u0437\u043C\u0435\u0440"}),e("th",{children:"\u0411\u0430\u0437\u043E\u0432\u0430\u044F \u0446\u0435\u043D\u0430"}),e("th",{children:"\u0426\u0435\u043D\u0430"}),e("th",{children:"\u0422\u0438\u043F \u0441\u043A\u0438\u0434\u043A\u0438"}),e("th",{})]}),Ve=({product:a,setChanged:i,isSelect:t,hasBenHanged:o,sendNewProductData:s})=>{const l=a.filter.map((m,g)=>u("div",{children:[" ",m," "]},m));return u("tr",{onClick:i,style:t?{backgroundColor:"#a3d4a3"}:{},className:`${h.rowContainer}`,children:[e("td",{children:e("span",{children:a.type})}),e("td",{children:e("span",{children:a.name})}),e("td",{children:e("span",{children:l})}),e("td",{children:e("span",{children:a.priority})}),e("td",{children:e("span",{children:a.span})}),e("td",{children:e("span",{children:a.data.price.basic.cost})}),e("td",{children:e("span",{children:a.data.price.actual.cost})}),e("td",{children:e("span",{children:a.data.price.actual.discountType})}),e("td",{children:o?e("button",{onClick:s,children:"\u0438\u0437\u043C\u0435\u043D\u0438\u0442\u044C"}):"actual"})]})},Qe="https://wg-force3-backend.herokuapp.com/api/",C=H.create({baseURL:Qe,withCredentials:!1});var L;(function(a){a[a.Success=0]="Success",a[a.Error=1]="Error"})(L||(L={}));const T={getProductByID(a){return C.get(`/product?id=${a}`).then(i=>i.data)},getProductsByFilter(a){return C.get(`/product/filter?filter=${a}`).then(i=>i.data)},getProductsByType(a){return C.get(`/product/type?filter=${a}`).then(i=>i.data)},getProductsByList(a){return C.post("/products",{listProductsId:a}).then(i=>i.data)},addProductsByTech(a,i){return C.post("/addProductsTech",{data:a,type:i}).then(t=>t.data)},changedProductById(a){return C.post("/changeProduct",{data:a}).then(i=>i.data)}},Xe=(a,i)=>JSON.stringify(a)!==JSON.stringify(i),Ye=({product:a,handlerChangedProduct:i})=>{var F,$,w,B,k,A;const[t,o]=y.exports.useState(a),[s,l]=y.exports.useState(!1),[p,m]=y.exports.useState(!1),g=()=>{l(d=>!d)},f=d=>{o(n=>c(r({},n),{span:+d.target.value}))},S=d=>{o(n=>c(r({},n),{data:c(r({},n.data),{price:c(r({},n.data.price),{actual:c(r({},n.data.price.actual),{discountType:d.target.value})})})}))},q=d=>{o(n=>c(r({},n),{priority:+d.target.value}))},U=d=>{o(n=>c(r({},n),{data:c(r({},n.data),{description:d.target.value})}))},z=d=>{o(n=>c(r({},n),{data:c(r({},n.data),{filter:c(r({},n.data.filter),{nation:d.target.value})})}))},W=d=>{o(n=>c(r({},n),{data:c(r({},n.data),{filter:c(r({},n.data.filter),{type:d.target.value})})}))},J=d=>{o(n=>c(r({},n),{data:c(r({},n.data),{filter:c(r({},n.data.filter),{tier:d.target.value})})}))},K=d=>{o(n=>c(r({},n),{data:c(r({},n.data),{images:c(r({},n.data.images),{span_1x1:d.target.value})})}))},V=d=>{o(n=>c(r({},n),{data:c(r({},n.data),{images:c(r({},n.data.images),{span_2x1:d.target.value})})}))},Q=d=>{o(n=>c(r({},n),{data:c(r({},n.data),{price:c(r({},n.data.price),{basic:c(r({},n.data.price.basic),{cost:d.target.value})})})}))},X=d=>{o(n=>c(r({},n),{data:c(r({},n.data),{price:c(r({},n.data.price),{actual:c(r({},n.data.price.actual),{cost:d.target.value})})})}))},Y=d=>{o(n=>c(r({},n),{name:d.target.value,data:c(r({},n.data),{name:d.target.value})}))},P=d=>{const n=d.currentTarget.defaultValue;d.currentTarget.checked?o(_=>c(r({},_),{filter:[..._.filter,n]})):o(_=>c(r({},_),{filter:[..._.filter.filter(pe=>pe!==n)]}))},Z=t.name!==a.name,ee=t.priority!==a.priority,ae=t.span!==a.span,te=t.data.price.actual.discountType!==a.data.price.actual.discountType,ne=t.data.price.basic.cost!==a.data.price.basic.cost,ie=t.data.price.actual.cost!==a.data.price.actual.cost,re=JSON.stringify(t.filter)!==JSON.stringify(a.filter),ce=t.data.description!==a.data.description,ue=((F=t.data.filter)==null?void 0:F.nation)!==(($=a.data.filter)==null?void 0:$.nation),de=((w=t.data.filter)==null?void 0:w.type)!==((B=a.data.filter)==null?void 0:B.type),le=((k=t.data.filter)==null?void 0:k.tier)!==((A=a.data.filter)==null?void 0:A.tier),oe=t.data.images.span_1x1!==a.data.images.span_1x1,se=t.data.images.span_2x1!==a.data.images.span_2x1,he=async()=>{const d=await T.changedProductById(t);d&&i(d.data)};return y.exports.useEffect(()=>{m(Xe(t,a))},[t,a]),u(ke,{children:[e(Ve,{product:a,setChanged:g,isSelect:s,hasBenHanged:p,sendNewProductData:he}),s&&e("tr",{children:e("td",{colSpan:9,children:u("div",{className:h.changeProductContainer,children:[u("div",{className:h.firstContainer,children:[u("div",{className:`${h.nameProduct} ${Z?h.isSelect:""}`,children:[e("label",{children:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435:"}),e("textarea",{placeholder:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435",value:t.name,onChange:Y}),p?e("button",{onClick:()=>o(a),children:"resetAll"}):""]}),u("div",{children:[u("div",{className:ee?h.isSelect:"",children:[e("label",{children:"\u041F\u0440\u0438\u043E\u0440\u0438\u0442\u0435\u0442:"}),e("input",{type:"number",min:0,max:100,value:t.priority,onChange:q})]}),u("div",{className:ae?h.isSelect:"",children:[e("label",{htmlFor:"size",children:"\u0420\u0430\u0437\u043C\u0435\u0440:"}),u("select",{id:"size",name:"size",value:t.span,onChange:f,children:[e("option",{value:"1",children:"1"}),e("option",{value:"2",children:"2"})]})]})]}),u("div",{className:te?h.isSelect:"",children:[e("label",{htmlFor:"typeDiscount",children:"\u0422\u0438\u043F \u0441\u043A\u0438\u0434\u043A\u0438"}),u("select",{id:"typeDiscount",name:"discountType",value:t.data.price.actual.discountType,onChange:S,children:[e("option",{value:"percent",children:"\u043F\u0440\u043E\u0446\u0435\u043D\u0442"}),e("option",{value:"fixed",children:"\u0444\u0438\u043A\u0441\u0438\u0440\u043E\u0432\u0430\u043D\u043E"}),e("option",{value:"",children:"\u043D\u0435\u0442"})]})]}),u("div",{className:ne?h.isSelect:"",children:[e("label",{htmlFor:"basicPrice",children:"\u0411\u0430\u0437\u043E\u0432\u0430\u044F \u0446\u0435\u043D\u0430"}),e("input",{value:t.data.price.basic.cost,onChange:Q})]}),u("div",{className:ie?h.isSelect:"",children:[e("label",{htmlFor:"actualPrice",children:"\u0410\u043A\u0442\u0443\u0430\u043B\u044C\u043D\u0430\u044F \u0446\u0435\u043D\u0430"}),e("input",{value:t.data.price.actual.cost,onChange:X})]})]}),u("div",{className:re?h.isSelect:"",children:[e("label",{htmlFor:"actualPrice",children:"\u0424\u0438\u043B\u044C\u0442\u0440"}),u("div",{children:[u("div",{children:[e("label",{children:"\u0422\u0435\u0445\u043D\u0438\u043A\u0430"}),e("input",{type:"checkbox",value:"Technique",checked:t.filter.includes("Technique"),onChange:P})]}),u("div",{children:[e("label",{children:"\u0413\u043E\u043B\u0434\u0430"}),e("input",{type:"checkbox",value:"Gold",checked:t.filter.includes("Gold"),onChange:P})]}),u("div",{children:[e("label",{children:"\u041F\u0440\u0435\u043C\u0438\u0443\u043C"}),e("input",{type:"checkbox",value:"Premium",checked:t.filter.includes("Premium"),onChange:P})]}),u("div",{children:[e("label",{children:"\u0420\u0430\u0441\u0445\u043E\u0434\u043D\u0438\u043A\u0438"}),e("input",{type:"checkbox",value:"Provisions",checked:t.filter.includes("Provisions"),onChange:P})]})]})]}),t.data.filter&&u("div",{className:h.filterTechContainer,children:[u("div",{className:ue?h.isSelect:"",children:[e("label",{htmlFor:"nation",children:"\u041D\u0430\u0446\u0438\u044F"}),u("select",{id:"nation",name:"nation",value:t.data.filter.nation,onChange:z,children:[e("option",{value:"china",children:"\u043A\u0438\u0442\u0430\u0439"}),e("option",{value:"czech",children:"\u0447\u0435\u0445\u0438\u044F"}),e("option",{value:"france",children:"\u0444\u0440\u0430\u043D\u0446\u0438\u044F"}),e("option",{value:"germany",children:"\u0433\u0435\u0440\u043C\u0430\u043D\u0438\u044F"}),e("option",{value:"italy",children:"\u0438\u0442\u0430\u043B\u0438\u044F"}),e("option",{value:"japan",children:"\u044F\u043F\u043E\u043D\u0438\u044F"}),e("option",{value:"poland",children:"\u043F\u043E\u043B\u044C\u0448\u0430"}),e("option",{value:"sweden",children:"\u0448\u0432\u0435\u0446\u0438\u044F"}),e("option",{value:"uk",children:"\u0430\u043D\u0433\u043B\u0438\u044F"}),e("option",{value:"usa",children:"\u0430\u043C\u0435\u043D\u0440\u0438\u044F"}),e("option",{value:"ussr",children:"\u0441\u0441\u0441\u0440"})]})]}),u("div",{className:de?h.isSelect:"",children:[e("label",{htmlFor:"typeTech",children:"\u0422\u0438\u043F"}),u("select",{id:"typeTech",name:"type",value:t.data.filter.type,onChange:W,children:[e("option",{value:"AT-SPG",children:"\u043F\u0442"}),e("option",{value:"heavyTank",children:"\u0442\u0442"}),e("option",{value:"lightTank",children:"\u043B\u0442"}),e("option",{value:"mediumTank",children:"\u0441\u0442"}),e("option",{value:"SPG",children:"\u0430\u0440\u0442\u0430"})]})]}),u("div",{className:le?h.isSelect:"",children:[e("label",{id:"tierTech",children:"\u0423\u0440\u043E\u0432\u0435\u043D\u044C"}),u("select",{id:"tierTech",name:"tier",value:t.data.filter.tier,onChange:J,children:[e("option",{value:"1",children:"1"}),e("option",{value:"2",children:"2"}),e("option",{value:"3",children:"3"}),e("option",{value:"4",children:"4"}),e("option",{value:"5",children:"5"}),e("option",{value:"6",children:"6"}),e("option",{value:"7",children:"7"}),e("option",{value:"8",children:"8"}),e("option",{value:"9",children:"9"}),e("option",{value:"10",children:"10"})]})]})]}),u("div",{className:h.descriptionContainer,children:[u("div",{className:`${h.imgContainer} ${ce?h.isSelect:""}`,children:[e("label",{children:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435"}),e("textarea",{className:h.descriptionStyl,value:t.data.description,onChange:U})]}),u("div",{className:h.imgContainer,children:[e("label",{children:"\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 1*1"}),e("textarea",{className:oe?h.isSelect:"",value:t.data.images.span_1x1,onChange:K}),e("label",{children:"\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 1*2"}),e("textarea",{className:se?h.isSelect:"",value:t.data.images.span_2x1,onChange:V})]})]})]})})})]})},x=({filter:a})=>{const[i,t]=y.exports.useState(null),o=l=>{t(p=>{if(p){const m=[...p];return m.forEach((g,f)=>{g.data.id===l.data.id&&(m[f]=r({},l))}),m}else return null})},s=i==null?void 0:i.map(l=>e(Ye,{product:l,handlerChangedProduct:o},l.data.id));return y.exports.useEffect(()=>{async function l(){try{const p=await T.getProductsByType(a);t(p.data)}catch(p){console.log(`fetchMyProductData error: ${p}`)}}l()},[a]),e("div",{className:h.productContainer,children:u("table",{className:h.tableStyle,children:[e("caption",{children:a}),e("thead",{className:h.tableHead,children:e(Ke,{})}),e("tbody",{className:h.tableBody,children:s})]})})},Ze="https://wg-force3-backend.herokuapp.com/api/",G=H.create({baseURL:Ze,withCredentials:!1});var O;(function(a){a[a.Success=0]="Success",a[a.Error=1]="Error"})(O||(O={}));var M;(function(a){a[a.CaptchaIsRequired=10]="CaptchaIsRequired"})(M||(M={}));const R={getProductsTech(a,i){return G.get(`https://api.worldoftanks.ru/wot/encyclopedia/vehicles/?application_id=7e52e1d7641fd33d809e4104e369ecf2&limit=${a}&fields=description%2C+tank_id%2Cname%2Cnation%2Ctype%2Ctier%2Cimages%2Cis_wheeled%2Cshort_name&page_no=${i}`,{}).then(t=>t.data.data)},getProductsProv(a,i){return G.get(`https://api.worldoftanks.ru/wot/encyclopedia/provisions/?application_id=7e52e1d7641fd33d809e4104e369ecf2&limit=${a}&page_no=${i}`,{}).then(t=>t.data.data)}};function j(a){return Math.floor(Math.random()*a*100)/100}const ea=()=>u("div",{className:"container",children:[e("div",{className:"product",style:{padding:40},children:e("button",{onClick:async()=>{const t=await R.getProductsTech("100","4"),o=[];for(let l in t)if(t.hasOwnProperty(l)){const p=t[l],m={value:""+j(100),currency:"$"},g={name:p.name,description:p.description,price:{basic:{cost:m.value,currency:"$"},actual:{cost:m.value,discountType:""}},filter:{nation:p.nation,type:p.type,tier:""+p.tier,is_wheeled:p.is_wheeled},images:{span_1x1:p.images.big_icon,span_2x1:p.images.big_icon}};o.push(g)}const s=await T.addProductsByTech(o,"Technique");console.log(s)},children:"addTechToDB"})}),e("div",{className:"product",style:{padding:40},children:e("button",{onClick:async()=>{const t=await R.getProductsProv("100","4"),o=[];for(let m in t)t.hasOwnProperty(m)&&o.push(t[m]);const s=[];function l(m){m[0]&&s.push(m[0]);const g=m.filter((f,S)=>S>1&&m[0].name!==f.name);g&&g.length>0&&l(g)}l(o);const p=[];s.forEach(m=>{const g={value:""+j(20),currency:"$"},f={name:m.name,description:m.description,price:{basic:{cost:g.value,currency:"$"},actual:{cost:g.value,discountType:""}},images:{span_1x1:m.image,span_2x1:m.image}};p.push(f)}),await T.addProductsByTech(p,"Provisions")},children:"addProvisionsToDB"})})]}),aa=()=>e("div",{children:u(Ce,{children:[e(b,{path:"/gold",element:e(x,{filter:"Gold"})}),e(b,{path:"/premium",element:e(x,{filter:"Premium"})}),e(b,{path:"/provisions",element:e(x,{filter:"Provisions"})}),e(b,{path:"/tech",element:e(x,{filter:"Technique"})}),e(b,{path:"/productsAdd",element:e(ea,{})})]})});function ta(){return u("div",{className:"app",children:[e(Ee,{}),e(Ae,{}),e(aa,{})]})}_e.render(e(be.StrictMode,{children:e(Pe,{basename:"/wg-server-admin",children:e(ta,{})})}),document.getElementById("root"));
